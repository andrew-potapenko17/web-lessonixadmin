{% extends 'home.html' %}
{% load static %}

{% block content %}
<div class="mainContent">
    <div class="addteacher">
        <div class="title">
            <span>
                {% if role == "teacher" %}
                    Edit teacher 
                    <img src="{% static 'img/book.png' %}" alt="Book">
                {% elif role == "med" %}
                    Edit medical worker 
                    <img src="{% static 'img/medkit.png' %}" alt="Medkit">
                {% else %}
                    Edit staff 
                    <img src="{% static 'img/book.png' %}" alt="Other">
                {% endif %}
            </span>
        </div>
        <form method="post" action="{% url 'editstaff' uid %}">
            {% csrf_token %}
            <input type="hidden" id="csrfToken" value="{{ csrf_token }}">
            <input type="hidden" name="subjects" id="subjectsField">
            <input type="hidden" name="rooms" id="roomsField">
            <div class="teacher-form">
                <div class="avatar">
                    <img src="{% static 'img/avatar.png' %}" alt="Avatar">
                </div>
    
                <div class="inputs">
                    <div class="leftinputs">
                        <div class="singleinput">
                            <label>Full Name:</label>
                            <input type="text" name="teacherName" id="teacherName" placeholder="" value={{ full_name }} required>
                        </div>
                        {% if role == "teacher" %}
                        <div class="singleinput">
                            <label>Primary class:</label>
                            <input type="text" name="primaryClass" id="teacherClass" value={{ primary }} placeholder="">
                        </div>
                        {% endif %}
                    </div>
                    <div class="rightinputs">
                        {% if role == "teacher" %}
                        <div class="singleinput">
                            <label>Subjects:</label>
                            <div class="multi-input">
                                <input type="text" id="subjectInput" placeholder="">
                                <button type="button" onclick="addSubject()">
                                    <img src="{% static 'img/plus-btn.png' %}" alt="Add">
                                </button>
                            </div>
                            <div id="subjectList" class="tag-list"></div>
                        </div>
    
                        <div class="singleinput">
                            <label>Rooms:</label>
                            <div class="multi-input">
                                <input type="text" id="roomInput" placeholder="">
                                <button type="button" onclick="addRoom()">
                                    <img src="{% static 'img/plus-btn.png' %}" alt="Add">
                                </button>
                            </div>
                            <div id="roomList" class="tag-list"></div>
                        </div>
                        {% endif %}
                    </div>                
                </div>
            </div>
    
            <div class="submit">
                <button type="submit" id="addTeacherBtn">Edit</button>
            </div>
        </form>
    </div>
</div>

<link rel="stylesheet" type="text/css" href="{% static 'styles/addteacher.css' %}" />

<script>
    {% if role == "teacher" %}
    let subjects = [];
    let rooms = [];

    {% for sub in subjects %}
        subjects.push("{{ sub }}");
    {% endfor %}

    {% for room in rooms %}
        rooms.push("{{ room }}");
    {% endfor %}
    {% endif %}
</script>
<script src="{% static 'js/editstaff.js' %}"></script>
{% endblock content %}
